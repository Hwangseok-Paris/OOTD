<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member-mapper">

	<!-- java 필드변수와 DB 변수 매칭시켜주기 (타입 , 변수이름) -->
	<resultMap type="Member" id="resultMember">
		<result property="member_id" column="member_id"/>
		<result property="member_nickname" column="member_nickname"/>
		<result property="member_pw" column="member_pw"/>
		<result property="member_name" column="member_name"/>
		<result property="address" column="address" typeHandler="MyTypeHandler"/>
		<result property="enroll_date" column="enroll_date"/>
		<result property="brand_name" column="brand_name"/>
		<result property="account_number" column="account_number"/>
		<result property="login_type" column="login_type"/>
		<result property="bank_code" column="bank_code"/>
		
	</resultMap>

	<insert id="insertBrandMember" parameterType="Member">
		INSERT INTO MEMBER VALUES (
			SEQ_MEMBER_NO.NEXTVAL, #{ member_id }, #{ member_nickname }, #{ member_pw },
			NULL, #{ email }, #{ phone }, #{ address, typeHandler=MyTypeHandler }, 
			SYSDATE, #{ brand_name }, #{ account_number }, 1, #{ bank_code }
		)
	</insert>
	
	<insert id="insertMember" parameterType="Member">
		INSERT INTO MEMBER VALUES (
			SEQ_MEMBER_NO.NEXTVAL, #{ member_id }, #{ member_nickname }, #{ member_pw },
			#{ member_name }, #{ email }, #{ phone }, #{ address, typeHandler=MyTypeHandler }, 
			SYSDATE, DEFAULT, #{ account_number }, 2, #{ bank_code }
		)
	</insert>

	<select id="selectOneMember" parameterType="string" resultMap="resultMember" >
		SELECT * FROM MEMBER
		WHERE MEMBER_ID = #{ member_id }
	</select>
	

	
	
</mapper>
