<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="orderList-mapper"> 

   <select id="selectBrandOrderList" resultType="O_Order" parameterType="string">
	SELECT P.PRODUCT_NAME, OL.ORDER_QUANTITY, O.ORDER_NO, O.ORDER_DATE, O.TOTAL_PRICE
        FROM O_ORDER O, O_ORDER_LIST OL, PRODUCT P, MEMBER M
        WHERE O.ORDER_NO = OL.ORDER_NO
        	AND OL.PRODUCT_NO = P.PRODUCT_NO
        	AND P.MEMBER_NO = M.MEMBER_NO
        	AND P.PRODUCT_TYPE = 1
        	AND M.BRAND_NAME= #{ brand_name }
        ORDER BY O.ORDER_DATE DESC
   </select>

   <select id="selectBrandOrderDetail" resultType="O_Order" parameterType="_int">
   		SELECT A.ORDER_NO, A.MEMBER_NO, C.PRODUCT_NAME, A.ORDER_ADDRESS, A.RECEIVER_NAME, A.ORDER_DATE, B.ORDER_QUANTITY, A.TOTAL_PRICE
   		FROM O_ORDER A, O_ORDER_LIST B, PRODUCT C
   		WHERE A.ORDER_NO = B.ORDER_NO
        	AND B.PRODUCT_NO = C.PRODUCT_NO AND 
   		A.ORDER_NO = #{ order_no }
   </select>
   
   <!-- 건형 -->
	<select id="selectOrderList" parameterType="string" resultType="O_Order">
		SELECT P.PRODUCT_NAME, O.ORDER_NO, O.ORDER_DATE, O.TOTAL_PRICE, OL.ORDER_QUANTITY, M.BRAND_NAME
		FROM O_ORDER O, O_ORDER_LIST OL, PRODUCT P, MEMBER M
		WHERE M.MEMBER_NO = P.MEMBER_NO
			AND O.ORDER_NO = OL.ORDER_NO
			AND M.MEMBER_NAME = #{member_name}
			AND P.PRODUCT_TYPE = 1
			AND OL.PRODUCT_NO = P.PRODUCT_NO
		ORDER BY O.ORDER_DATE DESC
	</select>
	
</mapper>
